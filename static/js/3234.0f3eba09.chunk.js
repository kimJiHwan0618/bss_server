"use strict";(self.webpackChunkdiamond_bss_front=self.webpackChunkdiamond_bss_front||[]).push([[3234],{36771:function(e,n,t){t.r(n),t.d(n,{default:function(){return _}});var s=t(29439),c=t(57689),a=(t(68639),t(27972)),r=t(72791),d=(t(81212),t(50661)),l=t(25470),i=t(65073),o=t(30337),u=(t(58988),t(83990)),m=t(51095),x=t(16567),h=t(81694),j=t.n(h),f=t(22334),p=t(80184);var _=function(){var e=(0,c.TH)().state,n=(0,d.v9)(m.s8).company,t=(0,d.v9)(m.s8).project,h=(0,d.v9)(m.s8).group,_=(0,d.v9)(m.s8).manufacturer,v=(0,d.v9)(m.s8).otaVersion,N=(0,d.v9)(m.s8).stationState,g=(0,d.I0)(),b=(0,c.s0)(),y=(0,r.useRef)(),S=(0,r.useRef)(),k=(0,r.useRef)(),I=(0,r.useState)([]),C=(0,s.Z)(I,2),Z=C[0],w=C[1],L=(0,r.useState)([]),M=(0,s.Z)(L,2),V=M[0],D=M[1],q=(0,r.useState)([]),O=(0,s.Z)(q,2),P=O[0],T=O[1],A=(0,r.useState)([]),B=(0,s.Z)(A,2),E=B[0],J=B[1],R=(0,r.useState)([]),H=(0,s.Z)(R,2),K=H[0],z=H[1],U=(0,r.useState)([]),W=(0,s.Z)(U,2),F=W[0],Y=W[1],G=(0,r.useState)(""),Q=(0,s.Z)(G,2),X=Q[0],$=Q[1],ee=(0,r.useState)(""),ne=(0,s.Z)(ee,2),te=ne[0],se=ne[1],ce=(0,r.useState)(""),ae=(0,s.Z)(ce,2),re=ae[0],de=ae[1],le=(0,r.useState)(""),ie=(0,s.Z)(le,2),oe=ie[0],ue=ie[1],me=(0,r.useState)(""),xe=(0,s.Z)(me,2),he=xe[0],je=xe[1],fe=(0,r.useState)(""),pe=(0,s.Z)(fe,2),_e=pe[0],ve=pe[1],Ne=(0,r.useState)([]),ge=(0,s.Z)(Ne,2),be=ge[0],ye=ge[1],Se=(0,r.useState)(""),ke=(0,s.Z)(Se,2),Ie=ke[0],Ce=ke[1],Ze=(0,r.useState)(!1),we=(0,s.Z)(Ze,2),Le=we[0],Me=we[1],Ve=(0,r.useState)(""),De=(0,s.Z)(Ve,2),qe=De[0],Oe=De[1],Pe=(0,r.useState)(""),Te=(0,s.Z)(Pe,2),Ae=Te[0],Be=Te[1],Ee=(0,r.useState)({}),Je=(0,s.Z)(Ee,2),Re=Je[0],He=Je[1],Ke=(0,r.useState)([]),ze=(0,s.Z)(Ke,2),Ue=ze[0],We=ze[1],Fe=(0,d.v9)(f.L4).stations;(0,r.useEffect)((function(){if(T(v),z(_),D(n),Y(N),"\ucd94\uac00"===e.detailLink[0].title){se(n[0].code),de(v[0].code),je(_[0].code),ve(N[0].code);var s=t.filter((function(e){return e.parentId===n[0].code}));w(s),$(t[0].code),J(h.filter((function(e){return e.parentId===s[0].code}))),ue(h[0].code)}else"\uc218\uc815"===e.detailLink[0].title&&(se(e.companyId),de(e.otaSeq),je(e.manufacturer),ve(e.deviceState),w(t.filter((function(n){return n.parentId===e.companyId}))),$(e.projectId),J(h.filter((function(n){return n.parentId===e.projectId}))),ue(e.groupId),Ce(e.address),Oe(e.latitude),Be(e.longitude))}),[]);var Ye=function(){Me(!0),fetch("https://dapi.kakao.com/v2/local/search/keyword.json?query={".concat(k.current.value,"}"),{headers:{Authorization:"KakaoAK f2fc184468185edbf1e0a16114960df5"}}).then((function(e){return e.json()})).then((function(e){He({}),Object.prototype.hasOwnProperty.call(e,"documents")?We(e.documents):We([])}))};return(0,p.jsxs)("div",{className:"section__grid__wrap content groups__add__update station__add__update",children:[(0,p.jsx)(i.DR,{flag:e.detailLink[0].title,deleteBtnClick:function(){(0,o._1)({title:"\uc7a5\ube44 \uc815\ubcf4\ub97c \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",buttons:[{label:"\uc608",onClick:function(){g((0,u.bA)());var n=Fe.slice().filter((function(n){return n.deviceId!==e.deviceId}));g((0,u.xv)()),g((0,f.JM)({data:n})),g((0,l.PV)({message:"\uc2a4\ud14c\uc774\uc158 \uc815\ubcf4\uac00 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",variant:"success"})),b("/bss_server/deviceManagement/stations")}},{label:"\ucde8\uc18c"}]})},saveBtnClick:function(){(0,o._1)({title:"\uc2a4\ud14c\uc774\uc158 \uc815\ubcf4\ub97c ".concat(e.detailLink[0].title," \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"),buttons:[{label:"\uc608",onClick:function(){if(""!==Ie&&""!==qe&&""!==Ae){var n={};if(n.companyId=te,n.projectId=X,n.groupId=oe,n.deviceName=y.current.value,n.deviceDesc=S.current.value,n.manufacturer=he,n.deviceState=_e,n.operationConfigSeq=re,n.address=Ie,n.latitude=qe,n.longitude=Ae,console.log(n),g((0,u.bA)()),Fe.filter((function(e){return e.projectId===X})).filter((function(e){return e.groupName===y.current.value})).length>0)return g((0,l.PV)({message:"\uc7a5\uce58 \uc815\ubcf4 \uc800\uc7a5 \uc2e4\ud328.",variant:"error"})),ye([{type:"deviceName",message:"\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \uc7a5\uce58\uba85\uc785\ub2c8\ub2e4."}]),void g((0,u.xv)());var s=new Date,c=s.getFullYear(),a="0".concat(s.getMonth()+1).slice(-2),r="0".concat(s.getDate()).slice(-2),d="".concat(c,"-").concat(a,"-").concat(r),i="0".concat(s.getHours()).slice(-2),o="0".concat(s.getMinutes()).slice(-2),m="0".concat(s.getSeconds()).slice(-2),x="".concat(i,":").concat(o,":").concat(m),j=Fe.slice(),p=j.filter((function(n){return n.deviceId!==e.deviceId}));switch(e.detailLink[0].title){case"\ucd94\uac00":j.push({companyId:te,companyName:"(\uc8fc)\ud55c\ube5b",deviceId:"BSS".concat(c).concat(a).concat(r).concat(o).concat(m),deviceName:y.current.value,deviceDesc:S.current.value,deviceState:_e,deviceStateName:N.filter((function(e){return e.code===_e}))[0].codeName,manufacturer:he,manufacturerName:_.filter((function(e){return e.code===he}))[0].codeName,address:Ie,latitude:qe,longitude:Ae,projectId:X,projectName:t.filter((function(e){return e.code===X}))[0].codeName,groupId:oe,groupName:h.filter((function(e){return e.code===oe}))[0].codeName,errorStatus:"0",errorStatusName:"\uc815\uc0c1",errorCnt:0,swVersion:"1.1.0.3",updateUsername:"\ud55c\ube5b \uad00\ub9ac\uc790",operationConfigSeq:"2",operationConfigName:"\uac1c\ubc1c\uc6a9 \uc6b4\uc601\uc815\ubcf4",updateTime:"".concat(d," ").concat(x),createTime:"".concat(d," ").concat(x)}),g((0,u.xv)()),g((0,f.JM)({data:j})),g((0,l.PV)({message:"\uc2a4\ud14c\uc774\uc158 \uc815\ubcf4\uac00 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",variant:"success"})),b("/bss_server/deviceManagement/stations");break;case"\uc218\uc815":p.push({companyId:te,companyName:"(\uc8fc)\ud55c\ube5b",deviceId:e.deviceId,deviceName:y.current.value,deviceDesc:S.current.value,deviceState:_e,deviceStateName:N.filter((function(e){return e.code===_e}))[0].codeName,manufacturer:he,manufacturerName:_.filter((function(e){return e.code===he}))[0].codeName,address:Ie,latitude:qe,longitude:Ae,projectId:X,projectName:t.filter((function(e){return e.code===X}))[0].codeName,groupId:oe,groupName:h.filter((function(e){return e.code===oe}))[0].codeName,errorStatus:"0",errorStatusName:"\uc815\uc0c1",errorCnt:0,swVersion:"1.1.0.3",updateUsername:"\ud55c\ube5b \uad00\ub9ac\uc790",operationConfigSeq:"2",operationConfigName:"\uac1c\ubc1c\uc6a9 \uc6b4\uc601\uc815\ubcf4",updateTime:"".concat(d," ").concat(x),createTime:e.createTime}),g((0,u.xv)()),g((0,f.JM)({data:p})),g((0,l.PV)({message:"\uc2a4\ud14c\uc774\uc158 \uc815\ubcf4\uac00 \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",variant:"success"})),b("/bss_server/deviceManagement/stations")}}else g((0,l.PV)({message:"\uc2a4\ud14c\uc774\uc158 \uc704\uce58 \uc815\ubcf4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",variant:"error"}))}},{label:"\ucde8\uc18c"}]})}}),(0,p.jsxs)(x.Z,{onClose:function(){return Me(!1)},onOpen:function(){return Me(!0)},open:Le,children:[(0,p.jsxs)("div",{className:"content__header",children:[(0,p.jsxs)("h3",{className:"f__medium",children:["'",(0,p.jsx)("span",{children:Le?k.current.value:""}),"'\xa0\xa0\uc704\uce58 \uac80\uc0c9"]}),(0,p.jsxs)("h4",{className:"f__medium",children:[(0,p.jsx)("span",{children:Ue.length}),"\uac74\uc758 \ub370\uc774\ud130"]})]}),(0,p.jsxs)("div",{id:"stationDetail",className:"content__body vertical__scroll",children:[(0,p.jsx)("div",{className:"item__list vertical__scroll",children:Ue.map((function(e){return(0,p.jsxs)("ul",{className:j()({selected:Re.x===e.x}),onClick:function(n){He(e)},children:[(0,p.jsx)("li",{children:(0,p.jsxs)("dl",{children:[(0,p.jsx)("dt",{className:"f__medium",children:"\uc8fc\uc18c\xa0:\xa0"}),(0,p.jsx)("dd",{children:e.address_name})]})}),(0,p.jsx)("li",{children:(0,p.jsxs)("dl",{children:[(0,p.jsx)("dt",{className:"f__medium",children:"\uc704\ub3c4\xa0:\xa0"}),(0,p.jsx)("dd",{children:e.y})]})}),(0,p.jsx)("li",{children:(0,p.jsxs)("dl",{children:[(0,p.jsx)("dt",{className:"f__medium",children:"\uacbd\ub3c4\xa0:\xa0"}),(0,p.jsx)("dd",{children:e.x})]})})]},e.x)}))}),Le&&(0,p.jsx)(a.Dl,{ncpClientId:"qelkdx0v6n",error:(0,p.jsx)("p",{children:"Maps Load Error"}),loading:(0,p.jsx)("p",{children:"Maps Loading..."}),children:(0,p.jsx)(a.EL,{center:{lat:Re.y,lng:Re.x},defaultZoom:14,children:(0,p.jsx)(a.Jx,{position:{lat:Re.y,lng:Re.x}})})})]}),(0,p.jsxs)("div",{className:"btn__wrap",children:[(0,p.jsx)("button",{className:"custom__btn",onClick:function(e){Me(!1)},children:(0,p.jsx)("span",{className:"f__medium",children:"\ucde8\uc18c"})}),(0,p.jsx)("button",{className:"custom__btn",onClick:function(e){void 0!==Re.x&&void 0!==Re.y&&(Ce(Re.address_name),Oe(Re.y),Be(Re.x),Me(!1))},children:(0,p.jsx)("span",{className:"f__medium",children:"\ud655\uc778"})})]})]}),(0,p.jsx)("section",{className:"station__input__wrap",children:(0,p.jsxs)("div",{className:"section__inner",children:[(0,p.jsx)("div",{className:"input__wrap",children:(0,p.jsxs)("ul",{children:[(0,p.jsx)("li",{children:(0,p.jsxs)("dl",{children:[(0,p.jsxs)("dt",{children:[(0,p.jsx)("span",{className:"f__bold",style:{color:"red"},children:"*\xa0"}),"\ud68c\uc0ac\uba85"]}),(0,p.jsx)("dd",{children:(0,p.jsx)("select",{value:te,className:"custom__select",onChange:function(e){se(e.target.value),w(t.filter((function(n){return n.parentId===e.target.value}))),$(Z[0].code),J(h.filter((function(e){return e.parentId===Z[0].code}))),ue(E[0].code)},children:V.map((function(e,n){return(0,p.jsx)("option",{value:e.code,children:e.codeName},e.code)}))})})]})}),(0,p.jsx)("li",{children:(0,p.jsxs)("dl",{children:[(0,p.jsxs)("dt",{children:[(0,p.jsx)("span",{className:"f__bold",style:{color:"red"},children:"*\xa0"}),"\ud504\ub85c\uc81d\ud2b8\uba85"]}),(0,p.jsx)("dd",{children:(0,p.jsx)("select",{value:X,className:"custom__select",onChange:function(e){$(e.target.value),J(h.filter((function(n){return n.parentId===e.target.value}))),ue(E[0].code)},children:Z.map((function(e,n){return(0,p.jsx)("option",{value:e.code,children:e.codeName},e.code)}))})})]})}),(0,p.jsx)("li",{children:(0,p.jsxs)("dl",{children:[(0,p.jsxs)("dt",{children:[(0,p.jsx)("span",{className:"f__bold",style:{color:"red"},children:"*\xa0"}),"\uc6b4\uc601 \uadf8\ub8f9"]}),(0,p.jsx)("dd",{children:(0,p.jsx)("select",{value:oe,className:"custom__select",onChange:function(e){ue(e.target.value)},children:E.map((function(e,n){return(0,p.jsx)("option",{value:e.code,children:e.codeName},e.code)}))})})]})}),(0,p.jsx)("li",{children:(0,p.jsxs)("dl",{children:[(0,p.jsxs)("dt",{children:[(0,p.jsx)("span",{className:"f__bold",style:{color:"red"},children:"*\xa0"}),"\uc81c\uc870\uc0ac\uba85"]}),(0,p.jsx)("dd",{children:(0,p.jsx)("select",{value:he,className:"custom__select",onChange:function(e){je(e.target.value)},children:K.map((function(e,n){return(0,p.jsx)("option",{value:e.code,children:e.codeName},e.code)}))})})]})}),(0,p.jsx)("li",{children:(0,p.jsxs)("dl",{children:[(0,p.jsxs)("dt",{children:[(0,p.jsx)("span",{className:"f__bold",style:{color:"red"},children:"*\xa0"}),"OTA \ubc84\uc804"]}),(0,p.jsx)("dd",{children:(0,p.jsxs)("select",{value:re,className:"custom__select",onChange:function(e){de(e.target.value)},children:[(0,p.jsx)("option",{value:"0",children:"\ubbf8\uc801\uc6a9"}),P.map((function(e,n){return(0,p.jsx)("option",{value:e.code,children:e.codeName},e.code)}))]})})]})}),(0,p.jsx)("li",{children:(0,p.jsxs)("dl",{children:[(0,p.jsxs)("dt",{children:[(0,p.jsx)("span",{className:"f__bold",style:{color:"red"},children:"*\xa0"}),"\uc7a5\uce58\uba85"]}),(0,p.jsxs)("dd",{children:[(0,p.jsx)("input",{ref:y,defaultValue:e.deviceName,className:"custom__input",type:"text"}),be.map((function(e){return"deviceName"===e.type&&(0,p.jsx)("p",{className:"f__medium field__error",children:e.message})}))]})]})}),(0,p.jsx)("li",{children:(0,p.jsxs)("dl",{children:[(0,p.jsx)("dt",{children:"\uc124\uba85"}),(0,p.jsx)("dd",{children:(0,p.jsx)("textarea",{ref:S,defaultValue:e.deviceDesc,className:"custom__input"})})]})}),(0,p.jsx)("li",{children:(0,p.jsxs)("dl",{children:[(0,p.jsxs)("dt",{children:[(0,p.jsx)("span",{className:"f__bold",style:{color:"red"},children:"*\xa0"}),"\uc7a5\ube44\uc0c1\ud0dc"]}),(0,p.jsx)("dd",{children:(0,p.jsx)("select",{value:_e,className:"custom__select",onChange:function(e){ve(e.target.value)},children:F.map((function(e,n){return(0,p.jsx)("option",{value:e.code,children:e.codeName},e.code)}))})})]})}),(0,p.jsx)("li",{children:(0,p.jsxs)("dl",{children:[(0,p.jsx)("dt",{children:"\uc124\uc815 \uac12"}),(0,p.jsxs)("dd",{className:"setting",children:[(0,p.jsx)("select",{className:"custom__select",children:(0,p.jsx)("option",{children:"\uc804\uccb4"})}),(0,p.jsx)("button",{className:"custom__btn",children:(0,p.jsx)("span",{className:"f__medium",children:"\uc124\uc815"})})]})]})}),"\uc218\uc815"===e.detailLink[0].title&&(0,p.jsx)("li",{children:(0,p.jsxs)("dl",{children:[(0,p.jsx)("dt",{children:"Access Code"}),(0,p.jsx)("dd",{children:(0,p.jsxs)("button",{className:"custom__btn",children:[(0,p.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,p.jsx)("span",{className:"f__medium",children:"Download"})]})})]})})]})}),(0,p.jsxs)("div",{className:"map__wrap",children:[(0,p.jsxs)("dl",{children:[(0,p.jsx)("dt",{children:"\uc2a4\ud14c\uc774\uc158 \uc124\uce58 \uc704\uce58"}),(0,p.jsxs)("dd",{children:[(0,p.jsx)("input",{ref:k,onKeyPress:function(e){return"Enter"===e.key&&Ye()},className:"custom__input"}),(0,p.jsxs)("button",{className:"custom__btn",onClick:function(){return Ye()},children:[(0,p.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,p.jsx)("span",{className:"f__medium",children:"\uac80\uc0c9"})]})]})]}),(0,p.jsx)("div",{id:"map",children:!Le&&(0,p.jsx)(a.Dl,{ncpClientId:"qelkdx0v6n",error:(0,p.jsx)("p",{children:"Maps Load Error"}),loading:(0,p.jsx)("p",{children:"Maps Loading..."}),children:(0,p.jsx)(a.EL,{center:{lat:qe,lng:Ae},defaultZoom:16,children:(0,p.jsx)(a.Jx,{position:{lat:qe,lng:Ae},title:e.deviceName,icon:{content:'<div class="markerBox">\n                <div class="title f__medium">'.concat(e.deviceName,'</div>\n                  <div class="marker__wrap">\n                    <img src=\'').concat("/bss_server","/images/icon/marker/").concat(_e,".png' alt=\"").concat(e.deviceStateName,'"/>\n                  </div>\n                </div>')}},e.deviceId)})})}),(0,p.jsxs)("ul",{children:[(0,p.jsx)("li",{children:(0,p.jsxs)("dl",{children:[(0,p.jsxs)("dt",{children:[(0,p.jsx)("span",{className:"f__bold",style:{color:"red"},children:"*\xa0"}),"\uc8fc\uc18c"]}),(0,p.jsx)("dd",{children:(0,p.jsx)("input",{defaultValue:Ie,className:"custom__input readonly",readOnly:!0,type:"text"})})]})}),(0,p.jsx)("li",{children:(0,p.jsxs)("dl",{children:[(0,p.jsxs)("dt",{children:[(0,p.jsx)("span",{className:"f__bold",style:{color:"red"},children:"*\xa0"}),"\uc704\ub3c4"]}),(0,p.jsx)("dd",{children:(0,p.jsx)("input",{defaultValue:qe,className:"custom__input readonly",readOnly:!0,type:"number",step:"0.1"})})]})}),(0,p.jsx)("li",{children:(0,p.jsxs)("dl",{children:[(0,p.jsxs)("dt",{children:[(0,p.jsx)("span",{className:"f__bold",style:{color:"red"},children:"*\xa0"}),"\uacbd\ub3c4"]}),(0,p.jsx)("dd",{children:(0,p.jsx)("input",{defaultValue:Ae,className:"custom__input readonly",readOnly:!0,type:"number",step:"0.1"})})]})})]})]})]})})]})}},81212:function(){}}]);
//# sourceMappingURL=3234.0f3eba09.chunk.js.map